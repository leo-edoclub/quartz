<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.css.cloud.quartz.zhjc.jsq.dao.TMatterStatisticsMapper" >
  <resultMap id="BaseResultMap" type="com.css.cloud.quartz.zhjc.jsq.entity.TMatterStatistics" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="ID" property="id" jdbcType="VARCHAR" />
    <result column="MS_AREACODE" property="msAreacode" jdbcType="VARCHAR" />
    <result column="MS_ORGCODE" property="msOrgcode" jdbcType="VARCHAR" />
    <result column="MS_TYPE" property="msType" jdbcType="CHAR" />
    <result column="SHOULD_NUM" property="shouldNum" jdbcType="NUMERIC" />
    <result column="DONE_NUM" property="doneNum" jdbcType="NUMERIC" />
    <result column="MS_DATE" property="msDate" jdbcType="TIMESTAMP" />
    <result column="MS_NAME" property="msName" jdbcType="VARCHAR" />
  </resultMap>

  <select id="countRecieveMatter" resultType="map">
    SELECT  nvl(sum(nvl(SHOULD_NUM,0)),0)as shouldNum,nvl(sum(nvl(DONE_NUM,0)),0)as doneNum
    FROM MATTER_STATISTICS
     WHERE  MS_DATE &gt;= to_date(#{monday,jdbcType=VARCHAR},'yyyy-MM-dd') AND  MS_DATE &lt; to_date(#{nextMonday,jdbcType=VARCHAR},'yyyy-MM-dd')
  </select>

  <insert id="insert" parameterType="com.css.cloud.quartz.zhjc.jsq.entity.TMatterStatistics" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into MATTER_STATISTICS (ID, MS_AREACODE, MS_ORGCODE, 
      MS_TYPE, SHOULD_NUM, DONE_NUM, 
      MS_DATE, MS_NAME)
    values (#{id,jdbcType=VARCHAR}, #{msAreacode,jdbcType=VARCHAR}, #{msOrgcode,jdbcType=VARCHAR}, 
      #{msType,jdbcType=CHAR}, #{shouldNum,jdbcType=NUMERIC}, #{doneNum,jdbcType=NUMERIC}, 
      #{msDate,jdbcType=TIMESTAMP}, #{msName,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.css.cloud.quartz.zhjc.jsq.entity.TMatterStatistics" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into MATTER_STATISTICS
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="msAreacode != null" >
        MS_AREACODE,
      </if>
      <if test="msOrgcode != null" >
        MS_ORGCODE,
      </if>
      <if test="msType != null" >
        MS_TYPE,
      </if>
      <if test="shouldNum != null" >
        SHOULD_NUM,
      </if>
      <if test="doneNum != null" >
        DONE_NUM,
      </if>
      <if test="msDate != null" >
        MS_DATE,
      </if>
      <if test="msName != null" >
        MS_NAME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="msAreacode != null" >
        #{msAreacode,jdbcType=VARCHAR},
      </if>
      <if test="msOrgcode != null" >
        #{msOrgcode,jdbcType=VARCHAR},
      </if>
      <if test="msType != null" >
        #{msType,jdbcType=CHAR},
      </if>
      <if test="shouldNum != null" >
        #{shouldNum,jdbcType=NUMERIC},
      </if>
      <if test="doneNum != null" >
        #{doneNum,jdbcType=NUMERIC},
      </if>
      <if test="msDate != null" >
        #{msDate,jdbcType=TIMESTAMP},
      </if>
      <if test="msName != null" >
        #{msName,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
</mapper>